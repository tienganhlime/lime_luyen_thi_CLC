<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Practice Test 1 - Luyện thi CLC</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);}
  .question-box {background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #4CAF50;}
  .option-btn {padding: 12px 24px; margin: 8px; border: 2px solid #ddd; border-radius: 8px; background: white; 
               cursor: pointer; transition: all 0.3s; font-size: 16px; min-width: 120px;}
  .option-btn:hover {border-color: #4CAF50; background: #f0fff0;}
  .option-btn.selected {border-color: #4CAF50; background: #4CAF50; color: white; font-weight: bold;}
  .input-answer {padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; width: 100%; max-width: 500px;}
  .input-answer:focus {border-color: #4CAF50; outline: none; background: #f0fff0;}
  .section-title {color: #FF6B6B; font-size: 1.5rem; font-weight: bold; margin: 30px 0 15px 0; padding-bottom: 10px; border-bottom: 3px solid #FF6B6B;}
</style>
</head>
<body>

<!-- Màn hình nhập mã -->
<div id="codeScreen" class="min-h-screen flex items-center justify-center p-6">
  <div class="max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-12 text-center">
    <img src="https://gofirst.pro/images/uploads/62/baseimg/logo_16541442053.png" class="w-32 mx-auto mb-6">
    <h1 class="text-5xl font-bold text-green-700 mb-4">LUYỆN THI VÀO LỚP 6 CLC</h1>
    <h2 class="text-3xl font-bold text-orange-600 mb-8">Practice Test 1</h2>
    <input type="text" id="studentCode" class="w-full px-6 py-5 text-3xl border-4 border-green-400 rounded-xl uppercase text-center mb-8" placeholder="Nhập mã học sinh">
    <button onclick="verifyStudent()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-6 rounded-xl text-3xl shadow-2xl">BẮT ĐẦU</button>
  </div>
</div>

<!-- Màn hình làm bài -->
<div id="testScreen" class="hidden min-h-screen p-6">
  <div class="max-w-6xl mx-auto">
    <div class="bg-white rounded-2xl shadow-2xl p-6 sticky top-0 z-10 mb-6">
      <div class="flex justify-between items-center">
        <h1 class="text-3xl font-bold text-green-700">Practice Test 1 - CLC</h1>
        <div class="text-right">
          <p class="text-xl">Học sinh: <span id="headerName" class="font-bold"></span></p>
          <p class="text-3xl font-bold text-red-600">⏱ <span id="timer">00:00</span></p>
        </div>
      </div>
      <div class="mt-4 bg-gray-300 rounded-full h-6">
        <div id="progress" class="bg-green-600 h-full transition-all" style="width:0%"></div>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-2xl p-12">
      
      <!-- PHẦN 1: PRONUNCIATION (Câu 1-2) -->
      <div class="section-title">PART 1: PRONUNCIATION (Questions 1-2)</div>
      
      <div class="question-box">
        <p class="font-bold text-lg mb-3">1. Choose the word whose underlined part differs from the others:</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(1, 'A')">A. <u>k</u>now</button>
<button class="option-btn" onclick="selectAnswer(1, 'B')">B. <u>k</u>nife</button>
<button class="option-btn" onclick="selectAnswer(1, 'C')">C. <u>k</u>ite</button>
<button class="option-btn" onclick="selectAnswer(1, 'D')">D. <u>k</u>night</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">2. Choose the word whose underlined part differs from the others:</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(2, 'A')">A. st<u>a</u>tion</button>
<button class="option-btn" onclick="selectAnswer(2, 'B')">B. h<u>a</u>ppen</button>
<button class="option-btn" onclick="selectAnswer(2, 'C')">C. r<u>a</u>bbit</button>
<button class="option-btn" onclick="selectAnswer(2, 'D')">D. m<u>a</u>tter</button>
        </div>
      </div>

      <!-- PHẦN 2: STRESS (Câu 3-4) -->
      <div class="section-title">PART 2: WORD STRESS (Questions 3-4)</div>
      
      <div class="question-box">
        <p class="font-bold text-lg mb-3">3. Choose the word whose main stress is different from the others:</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(3, 'A')">A. story</button>
          <button class="option-btn" onclick="selectAnswer(3, 'B')">B. building</button>
          <button class="option-btn" onclick="selectAnswer(3, 'C')">C. design</button>
          <button class="option-btn" onclick="selectAnswer(3, 'D')">D. pilot</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">4. Choose the word whose main stress is different from the others:</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(4, 'A')">A. address</button>
          <button class="option-btn" onclick="selectAnswer(4, 'B')">B. homework</button>
          <button class="option-btn" onclick="selectAnswer(4, 'C')">C. hungry</button>
          <button class="option-btn" onclick="selectAnswer(4, 'D')">D. season</button>
        </div>
      </div>

      <!-- PHẦN 3: GRAMMAR & VOCABULARY (Câu 5-20) -->
      <div class="section-title">PART 3: GRAMMAR & VOCABULARY (Questions 5-20)</div>
      
      <div class="question-box">
        <p class="font-bold text-lg mb-3">5. He ______________ to school 6 days a week.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(5, 'A')">A. go</button>
          <button class="option-btn" onclick="selectAnswer(5, 'B')">B. goes</button>
          <button class="option-btn" onclick="selectAnswer(5, 'C')">C. going</button>
          <button class="option-btn" onclick="selectAnswer(5, 'D')">D. is going</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">6. Nga wants to be a writer ______________ she would like to write story for children.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(6, 'A')">A. and</button>
          <button class="option-btn" onclick="selectAnswer(6, 'B')">B. or</button>
          <button class="option-btn" onclick="selectAnswer(6, 'C')">C. because</button>
          <button class="option-btn" onclick="selectAnswer(6, 'D')">D. so</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">7. ______________ can I get to the supermarket?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(7, 'A')">A. Where</button>
          <button class="option-btn" onclick="selectAnswer(7, 'B')">B. What</button>
          <button class="option-btn" onclick="selectAnswer(7, 'C')">C. Why</button>
          <button class="option-btn" onclick="selectAnswer(7, 'D')">D. How</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">8. Bob will ______________ us answer tomorrow morning.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(8, 'A')">A. give</button>
          <button class="option-btn" onclick="selectAnswer(8, 'B')">B. gives</button>
          <button class="option-btn" onclick="selectAnswer(8, 'C')">C. giving</button>
          <button class="option-btn" onclick="selectAnswer(8, 'D')">D. gave</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">9. I ______________ bacon and eggs for breakfast yesterday.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(9, 'A')">A. has</button>
          <button class="option-btn" onclick="selectAnswer(9, 'B')">B. have</button>
          <button class="option-btn" onclick="selectAnswer(9, 'C')">C. had</button>
          <button class="option-btn" onclick="selectAnswer(9, 'D')">D. is having</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">10. How ______________ water do you drink every day?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(10, 'A')">A. any</button>
          <button class="option-btn" onclick="selectAnswer(10, 'B')">B. much</button>
          <button class="option-btn" onclick="selectAnswer(10, 'C')">C. many</button>
          <button class="option-btn" onclick="selectAnswer(10, 'D')">D. some</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">11. It is ______________ too late to say "Sorry" for what you did wrong.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(11, 'A')">A. never</button>
          <button class="option-btn" onclick="selectAnswer(11, 'B')">B. sometimes</button>
          <button class="option-btn" onclick="selectAnswer(11, 'C')">C. usually</button>
          <button class="option-btn" onclick="selectAnswer(11, 'D')">D. often</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">12. The bus No.22 stops right ______________ the zoo entrance.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(12, 'A')">A. on</button>
          <button class="option-btn" onclick="selectAnswer(12, 'B')">B. in</button>
          <button class="option-btn" onclick="selectAnswer(12, 'C')">C. at</button>
          <button class="option-btn" onclick="selectAnswer(12, 'D')">D. next</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">13. Nam has a fever. He should ______________.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(13, 'A')">A. carry heavy things</button>
          <button class="option-btn" onclick="selectAnswer(13, 'B')">B. get up late</button>
          <button class="option-btn" onclick="selectAnswer(13, 'C')">C. eat a lot of sweats</button>
          <button class="option-btn" onclick="selectAnswer(13, 'D')">D. take a rest</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">14. You can visit ______________ to see old things of paintings.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(14, 'A')">A. stations</button>
          <button class="option-btn" onclick="selectAnswer(14, 'B')">B. museums</button>
          <button class="option-btn" onclick="selectAnswer(14, 'C')">C. markets</button>
          <button class="option-btn" onclick="selectAnswer(14, 'D')">D. parks</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">15. Life in the city is ______________ than life in the mountains.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(15, 'A')">A. busy</button>
          <button class="option-btn" onclick="selectAnswer(15, 'B')">B. busyer</button>
          <button class="option-btn" onclick="selectAnswer(15, 'C')">C. busier</button>
          <button class="option-btn" onclick="selectAnswer(15, 'D')">D. more busier</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">16. My brother has no ______________ in basketball.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(16, 'A')">A. interested</button>
          <button class="option-btn" onclick="selectAnswer(16, 'B')">B. interesting</button>
          <button class="option-btn" onclick="selectAnswer(16, 'C')">C. interest</button>
          <button class="option-btn" onclick="selectAnswer(16, 'D')">D. interestingly</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">17. I often eat three ______________ of rice a meal.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(17, 'A')">A. bars</button>
          <button class="option-btn" onclick="selectAnswer(17, 'B')">B. bowls</button>
          <button class="option-btn" onclick="selectAnswer(17, 'C')">C. glasses</button>
          <button class="option-btn" onclick="selectAnswer(17, 'D')">D. cartons</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">18. Don't climb the tree because you may fall and ______________.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(18, 'A')">A. cut yourself</button>
          <button class="option-btn" onclick="selectAnswer(18, 'B')">B. have a cold</button>
          <button class="option-btn" onclick="selectAnswer(18, 'C')">C. get a pain</button>
          <button class="option-btn" onclick="selectAnswer(18, 'D')">D. break your legs</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">19. Excuse me. Can you tell me where the bookstore is? - ______________.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(19, 'A')">A. Sure, go ahead</button>
          <button class="option-btn" onclick="selectAnswer(19, 'B')">B. Yes, please</button>
          <button class="option-btn" onclick="selectAnswer(19, 'C')">C. Sorry, I'm new here myself</button>
          <button class="option-btn" onclick="selectAnswer(19, 'D')">D. OK, here is the ticket</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">20. Hello, how can I help you? - ______________.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(20, 'A')">A. I'm sorry. I can't</button>
          <button class="option-btn" onclick="selectAnswer(20, 'B')">B. Here you are</button>
          <button class="option-btn" onclick="selectAnswer(20, 'C')">C. I'm looking for a watch</button>
          <button class="option-btn" onclick="selectAnswer(20, 'D')">D. You're welcome</button>
        </div>
      </div>

      <!-- PHẦN 4: COMMUNICATION (Câu 21-26) -->
      <div class="section-title">PART 4: COMMUNICATION (Questions 21-26)</div>
      
      <div class="question-box">
        <p class="font-bold text-lg mb-3">21. What does your father do?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(21, 'A')">A. He's a doctor</button>
          <button class="option-btn" onclick="selectAnswer(21, 'B')">B. He likes reading</button>
          <button class="option-btn" onclick="selectAnswer(21, 'C')">C. He's 40 years old</button>
          <button class="option-btn" onclick="selectAnswer(21, 'D')">D. He's fine</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">22. How much is this T-shirt?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(22, 'A')">A. It's size M</button>
          <button class="option-btn" onclick="selectAnswer(22, 'B')">B. It's 50,000 dong</button>
          <button class="option-btn" onclick="selectAnswer(22, 'C')">C. It's very nice</button>
          <button class="option-btn" onclick="selectAnswer(22, 'D')">D. It's cotton</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">23. Would you like some orange juice?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(23, 'A')">A. Yes, I would</button>
          <button class="option-btn" onclick="selectAnswer(23, 'B')">B. Yes, please</button>
          <button class="option-btn" onclick="selectAnswer(23, 'C')">C. Yes, I like</button>
          <button class="option-btn" onclick="selectAnswer(23, 'D')">D. Yes, I do</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">24. What's the weather like in summer?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(24, 'A')">A. It's cold</button>
          <button class="option-btn" onclick="selectAnswer(24, 'B')">B. It's hot and sunny</button>
          <button class="option-btn" onclick="selectAnswer(24, 'C')">C. It's cool</button>
          <button class="option-btn" onclick="selectAnswer(24, 'D')">D. It's rainy</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">25. I have a toothache.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(25, 'A')">A. You should eat more candy</button>
          <button class="option-btn" onclick="selectAnswer(25, 'B')">B. You should see a dentist</button>
          <button class="option-btn" onclick="selectAnswer(25, 'C')">C. You should go swimming</button>
          <button class="option-btn" onclick="selectAnswer(25, 'D')">D. You should stay up late</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">26. Can you tell me the way to the post office?</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(26, 'A')">A. Turn left. It's on your right</button>
          <button class="option-btn" onclick="selectAnswer(26, 'B')">B. Yes, I can</button>
          <button class="option-btn" onclick="selectAnswer(26, 'C')">C. It's a post office</button>
          <button class="option-btn" onclick="selectAnswer(26, 'D')">D. I like the post office</button>
        </div>
      </div>

      <!-- PHẦN 5: SENTENCE REARRANGEMENT (Câu 27-28) -->
      <div class="section-title">PART 5: REARRANGE THE WORDS (Questions 27-28)</div>
      
      <div class="question-box">
        <p class="font-bold text-lg mb-3">27. Rearrange: and/ North Court castle/ ,/ visited/ an/ last week/ my mother/ saw/ old painting/ .</p>
        <input type="text" class="input-answer" id="q27" placeholder="Your answer..." onblur="saveTextAnswer(27, this.value)">
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">28. Rearrange: There/ a/ my/ trees/ school/ lot/ to/ are/ of/ on/ the way/ .</p>
        <input type="text" class="input-answer" id="q28" placeholder="Your answer..." onblur="saveTextAnswer(28, this.value)">
      </div>

      <!-- PHẦN 6: SENTENCE TRANSFORMATION (Câu 29-30) -->
      <div class="section-title">PART 6: SENTENCE TRANSFORMATION (Questions 29-30)</div>
      
      <div class="question-box">
        <p class="font-bold text-lg mb-3">29. My school is in front of the pharmacy.</p>
        <p class="text-gray-700 mb-2">→ The pharmacy _______________________________________________</p>
        <input type="text" class="input-answer" id="q29" placeholder="Your answer..." onblur="saveTextAnswer(29, this.value)">
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">30. I have a plan to visit my grandparents next Monday.</p>
        <p class="text-gray-700 mb-2">→ I am going _______________________________________________</p>
        <input type="text" class="input-answer" id="q30" placeholder="Your answer..." onblur="saveTextAnswer(30, this.value)">
      </div>

      <!-- PHẦN 7: CLOZE TEST (Câu 31-40) -->
      <div class="section-title">PART 7: CLOZE TEST (Questions 31-40)</div>
      
      <div class="bg-blue-50 p-6 rounded-xl mb-4">
        <p class="text-gray-800 leading-relaxed">
          People in many countries grow fresh water fish from eggs. They move the small fish into lakes and rivers. 
          The fish live and <strong>(31)</strong> there. People go <strong>(32)</strong> in these lakes and rivers. 
          They enjoy catching fish because fish is also good food. Now the Japanese grow salt water fish. Most of them are yellow tail fish. 
          Workers grow the fish from eggs. Every time they feed the fish, they play <strong>(33)</strong> of piano music. 
          The fish <strong>(34)</strong> that piano music means food. When the fish are small, the Japanese put them into the ocean near the land. 
          The fish find some of their <strong>(35)</strong> food. Workers also feed them. They play the same piano music. 
          The fish <strong>(36)</strong> know the music. They swim toward it and <strong>(37)</strong> the food. 
          In <strong>(38)</strong> months the fish are large. The Japanese play the same music. 
          The fish swim toward it and the workers <strong>(39)</strong> them. The Japanese get about 15 percent of their seafood 
          <strong>(40)</strong> farms in the ocean.
        </p>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">31.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(31, 'A')">A. bred</button>
          <button class="option-btn" onclick="selectAnswer(31, 'B')">B. born</button>
          <button class="option-btn" onclick="selectAnswer(31, 'C')">C. grow</button>
          <button class="option-btn" onclick="selectAnswer(31, 'D')">D. develop</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">32.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(32, 'A')">A. enjoying</button>
          <button class="option-btn" onclick="selectAnswer(32, 'B')">B. fishing</button>
          <button class="option-btn" onclick="selectAnswer(32, 'C')">C. shopping</button>
          <button class="option-btn" onclick="selectAnswer(32, 'D')">D. catching</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">33.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(33, 'A')">A. songs</button>
          <button class="option-btn" onclick="selectAnswer(33, 'B')">B. films</button>
          <button class="option-btn" onclick="selectAnswer(33, 'C')">C. tapes</button>
          <button class="option-btn" onclick="selectAnswer(33, 'D')">D. lots</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">34.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(34, 'A')">A. think</button>
          <button class="option-btn" onclick="selectAnswer(34, 'B')">B. recognize</button>
          <button class="option-btn" onclick="selectAnswer(34, 'C')">C. realize</button>
          <button class="option-btn" onclick="selectAnswer(34, 'D')">D. learn</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">35.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(35, 'A')">A. own</button>
          <button class="option-btn" onclick="selectAnswer(35, 'B')">B. private</button>
          <button class="option-btn" onclick="selectAnswer(35, 'C')">C. self</button>
          <button class="option-btn" onclick="selectAnswer(35, 'D')">D. individual</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">36.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(36, 'A')">A. recently</button>
          <button class="option-btn" onclick="selectAnswer(36, 'B')">B. mostly</button>
          <button class="option-btn" onclick="selectAnswer(36, 'C')">C. nearly</button>
          <button class="option-btn" onclick="selectAnswer(36, 'D')">D. already</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">37.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(37, 'A')">A. see</button>
          <button class="option-btn" onclick="selectAnswer(37, 'B')">B. find</button>
          <button class="option-btn" onclick="selectAnswer(37, 'C')">C. bite</button>
          <button class="option-btn" onclick="selectAnswer(37, 'D')">D. hold</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">38.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(38, 'A')">A. few</button>
          <button class="option-btn" onclick="selectAnswer(38, 'B')">B. a few</button>
          <button class="option-btn" onclick="selectAnswer(38, 'C')">C. couple</button>
          <button class="option-btn" onclick="selectAnswer(38, 'D')">D. many</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">39.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(39, 'A')">A. grasp</button>
          <button class="option-btn" onclick="selectAnswer(39, 'B')">B. catch</button>
          <button class="option-btn" onclick="selectAnswer(39, 'C')">C. seize</button>
          <button class="option-btn" onclick="selectAnswer(39, 'D')">D. hold</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">40.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(40, 'A')">A. on</button>
          <button class="option-btn" onclick="selectAnswer(40, 'B')">B. of</button>
          <button class="option-btn" onclick="selectAnswer(40, 'C')">C. from</button>
          <button class="option-btn" onclick="selectAnswer(40, 'D')">D. in</button>
        </div>
      </div>

      <!-- PHẦN 8: READING COMPREHENSION (Câu 41-45) -->
      <div class="section-title">PART 8: READING COMPREHENSION (Questions 41-45)</div>
      
      <div class="bg-blue-50 p-6 rounded-xl mb-4">
        <p class="text-gray-800 leading-relaxed mb-4">
          Past explorers have made vast contributions to our knowledge of the world today. They braved the oceans to discover the world 
          and to bring their goods to other countries to trade.
        </p>
        <p class="text-gray-800 leading-relaxed mb-4">
          Many explorers had to overcome their fear of the unknown to travel around the world on their sailing ships. Submitting themselves 
          to unpredictable weather conditions, each explorer either traveled further than his predecessor or tried to find a different route 
          to already discovered countries. For example, Vasco Da Gama, a Portuguese explorer, established a sea route from Europe to India. 
          He had extended the sea route that Bartolomeu Dias had already done when he latter sailed around the Cape of Good Hope in southern Africa.
        </p>
        <p class="text-gray-800 leading-relaxed">
          More importantly, explorers first closed the gap between the east and the west by trading their local goods with foreign ones. 
          India was known for its spices such as nutmeg and cinnamon while China was known for its silk. A part of the east was brought to 
          the west when western gourmets developed a taste for eastern spices in their food. People in the east dressed in clothes that were 
          previously only worn in the west. Without the explorers, many of us would still be living in our own enclave with little knowledge 
          of the vast world and what other foreign countries have to offer us.
        </p>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">41. Past explorers contributed to our knowledge of the world by ___________.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(41, 'A')">A. making new good</button>
          <button class="option-btn" onclick="selectAnswer(41, 'B')">B. selling their goods at high prices</button>
          <button class="option-btn" onclick="selectAnswer(41, 'C')">C. travelling to other countries</button>
          <button class="option-btn" onclick="selectAnswer(41, 'D')">D. spending time reading about foreign countries</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">42. Past explorers were probably fearful of ___________.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(42, 'A')">A. swimming in the ocean</button>
          <button class="option-btn" onclick="selectAnswer(42, 'B')">B. the dangers that lurked in unexplored places</button>
          <button class="option-btn" onclick="selectAnswer(42, 'C')">C. being in their sailing ships for a long time</button>
          <button class="option-btn" onclick="selectAnswer(42, 'D')">D. tying to predict the weather conditions</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">43. Explorers who traveled to countries that others had already been to would make sure that they _______.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(43, 'A')">A. sold new goods to those countries</button>
          <button class="option-btn" onclick="selectAnswer(43, 'B')">B. bought new goods from those countries</button>
          <button class="option-btn" onclick="selectAnswer(43, 'C')">C. explored new areas in the countries</button>
          <button class="option-btn" onclick="selectAnswer(43, 'D')">D. found another way of going to those countries</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">44. The act of selling their local goods to a foreign country allowed the explorers to _______.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(44, 'A')">A. earn more money</button>
          <button class="option-btn" onclick="selectAnswer(44, 'B')">B. think about visiting other countries as well</button>
          <button class="option-btn" onclick="selectAnswer(44, 'C')">C. grow different types of spices</button>
          <button class="option-btn" onclick="selectAnswer(44, 'D')">D. find out more about that country</button>
        </div>
      </div>

      <div class="question-box">
        <p class="font-bold text-lg mb-3">45. Based on the third paragraph, the _________ of people changed when they came into contact with foreigners.</p>
        <div class="flex flex-wrap">
          <button class="option-btn" onclick="selectAnswer(45, 'A')">A. clothing and lifestyle</button>
          <button class="option-btn" onclick="selectAnswer(45, 'B')">B. speech and lifestyle</button>
          <button class="option-btn" onclick="selectAnswer(45, 'C')">C. clothing and jobs</button>
          <button class="option-btn" onclick="selectAnswer(45, 'D')">D. family structure and clothing</button>
        </div>
      </div>

      <div class="text-center mt-16">
        <button onclick="submitTest()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-8 px-32 rounded-xl text-4xl shadow-2xl">
          NỘP BÀI
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Màn hình kết quả -->
<div id="resultScreen" class="hidden min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-green-50 to-blue-50">
  <div class="max-w-4xl w-full bg-white rounded-3xl shadow-2xl p-16 text-center">
    <h1 class="text-6xl font-bold text-green-700 mb-8">HOÀN THÀNH!</h1>
    <div class="text-9xl font-bold text-green-600 mb-6" id="finalScore">0%</div>
    <p class="text-4xl mb-4">Đúng <span id="correctCount">0</span>/45 câu</p>
    <p class="text-3xl text-gray-700 mb-12">Thời gian: <span id="finalTime">00:00</span></p>

    <div class="bg-red-50 border-2 border-red-400 rounded-2xl p-8 mb-10">
      <p class="text-2xl font-bold text-red-800">Câu sai: <span id="wrongList" class="font-mono">Không có</span></p>
    </div>

    <div class="bg-blue-50 border-2 border-blue-400 rounded-2xl p-8 text-left">
      <p class="text-2xl font-bold text-blue-800 mb-4">Lịch sử làm bài:</p>
      <div id="timelineDisplay" class="text-lg space-y-2 font-mono"></div>
    </div>

    <button onclick="location.reload()" class="mt-12 bg-green-600 hover:bg-green-700 text-white font-bold py-6 px-20 rounded-xl text-3xl shadow-2xl">
      LÀM LẠI BÀI
    </button>
  </div>
</div>

<script>
const URL = 'https://script.google.com/macros/s/AKfycbzR5sr9oq2JokyRsIOmDdbO75rpiH8Xq2AcKNK4Suxe_ZbOlQYR9yqk-OyxiMmZzRKV/exec';
const TEST_NAME = 'Practice Test 1';
const TOTAL_QUESTIONS = 45;

let student = null, startTime = null, timer = null;
let answers = {}, timeline = [], tabSwitches = 0;

// Theo dõi chuyển tab
document.addEventListener('visibilitychange', () => {
  if (document.visibilityState === 'hidden' && !document.getElementById('testScreen').classList.contains('hidden')) {
    tabSwitches++;
    const t = new Date().toLocaleTimeString('vi-VN');
    timeline.push(`Chuyển tab lúc ${t}`);
  }
});

// Xác minh học sinh
function verifyStudent() {
  const code = document.getElementById('studentCode').value.trim().toUpperCase();
  if (!code) return alert('Nhập mã học sinh!');
  
  fetch(`${URL}?action=verify&code=${code}`)
    .then(r => r.json())
    .then(d => {
      if (!d.exists) return alert('Mã không tồn tại!');
      student = {code, name: d.studentName || code};
      document.getElementById('headerName').textContent = student.name;
      document.getElementById('codeScreen').classList.add('hidden');
      document.getElementById('testScreen').classList.remove('hidden');
      startTime = Date.now();
      
      // Bắt đầu đếm thời gian
      timer = setInterval(() => {
        const s = Math.floor((Date.now() - startTime) / 1000);
        const m = String(Math.floor(s / 60)).padStart(2, '0');
        const sec = String(s % 60).padStart(2, '0');
        document.getElementById('timer').textContent = `${m}:${sec}`;
        
        // Cập nhật progress bar
        const answered = Object.keys(answers).filter(k => answers[k]).length;
        document.getElementById('progress').style.width = `${(answered / TOTAL_QUESTIONS) * 100}%`;
      }, 500);
    })
    .catch(err => {
      alert('Lỗi kết nối: ' + err.message);
    });
}

// Chọn đáp án trắc nghiệm
function selectAnswer(questionNum, option) {
  const time = new Date().toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit', second: '2-digit'});
  
  // Xóa selected cũ
  const buttons = document.querySelectorAll(`#testScreen .question-box:has(button[onclick*="selectAnswer(${questionNum},"]) .option-btn`);
  buttons.forEach(btn => btn.classList.remove('selected'));
  
  // Thêm selected mới
  event.target.classList.add('selected');
  
  // Lưu timeline
  if (!answers[questionNum]) {
    timeline.push(`Câu ${questionNum}: ${option} (${time})`);
  } else if (answers[questionNum] !== option) {
    timeline.push(`→ Đổi câu ${questionNum} thành ${option} (${time})`);
  }
  
  answers[questionNum] = option;
}

// Lưu câu trả lời tự luận
function saveTextAnswer(questionNum, value) {
  const v = value.trim();
  if (v === answers[questionNum]) return;
  
  const time = new Date().toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit', second: '2-digit'});
  
  if (!answers[questionNum] && v) {
    timeline.push(`Câu ${questionNum}: "${v}" (${time})`);
  } else if (answers[questionNum] && v) {
    timeline.push(`→ Đổi câu ${questionNum} thành "${v}" (${time})`);
  }
  
  answers[questionNum] = v;
}

// Nộp bài
function submitTest() {
  const answered = Object.keys(answers).filter(k => answers[k]).length;
  
  if (answered < TOTAL_QUESTIONS && !confirm(`Còn ${TOTAL_QUESTIONS - answered} câu trống. Nộp luôn?`)) {
    return;
  }
  
  clearInterval(timer);
  const duration = document.getElementById('timer').textContent;
  const realTime = new Date().toLocaleString('vi-VN');

  const data = {
    action: 'submit',
    testName: TEST_NAME,
    studentCode: student.code,
    studentName: student.name,
    answers: answers,
    timeUsed: duration,
    realSubmitTime: realTime,
    timeline: timeline.join(' | '),
    tabSwitchLog: tabSwitches > 0 ? `Chuyển tab ${tabSwitches} lần` : 'Không chuyển tab',
    totalQuestions: TOTAL_QUESTIONS
  };

  fetch(`${URL}?data=${encodeURIComponent(JSON.stringify(data))}`)
    .then(r => r.json())
    .then(res => {
      if (res.status === 'success') {
        document.getElementById('testScreen').classList.add('hidden');
        document.getElementById('resultScreen').classList.remove('hidden');
        document.getElementById('finalScore').textContent = res.score + '%';
        document.getElementById('correctCount').textContent = res.correctCount;
        document.getElementById('finalTime').textContent = duration;
        document.getElementById('wrongList').textContent = res.wrongQuestions.length ? res.wrongQuestions.join(', ') : 'Không có';

        const tl = document.getElementById('timelineDisplay');
        timeline.forEach(l => {
          const p = document.createElement('p');
          p.textContent = l;
          tl.appendChild(p);
        });
        
        if (tabSwitches > 0) {
          const warn = document.createElement('p');
          warn.className = 'text-red-600 font-bold text-xl';
          warn.textContent = `Phát hiện chuyển tab ${tabSwitches} lần!`;
          tl.appendChild(warn);
        }
        
        alert(`Nộp thành công! Điểm: ${res.score}%`);
      } else {
        alert('Lỗi: ' + res.message);
      }
    })
    .catch(err => {
      alert('Lỗi khi nộp bài: ' + err.message);
    });
}
</script>
</body>
</html>